#X spalte loeschen
weihnachtsfeiertag_26$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_27 %>%
rename(
feiertag = weihnachtsfeiertag_27
)
#X spalte loeschen
weihnachtsfeiertag_27$X<-NULL
#neujahrstage
#spalte umbennen
neujahrstage %>%
rename(
feiertag = neujahrstage
)
#X spalte loeschen
neujahrstage$X<-NULL
feiertag_vl<-filter(besonderes, Feiertage==1)
View(feiertag_vl)
View(feiertag_vl)
#schon im df "besonderes" vorhandene Feiertage extrahieren in ein neuen df Feiertage
```{r}
feiertage_vl<-filter(besonderes, Feiertage==1)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
#Weihnachtsfeiertage
weihnachtsfeiertag_25 <- read.csv("weihnachtsfeiertag_25.csv")
weihnachtsfeiertag_25$Datum <- as.Date(weihnachtsfeiertag_25$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_26 <- read.csv("weihnachtsfeiertag_26.csv")
weihnachtsfeiertag_26$Datum <- as.Date(weihnachtsfeiertag_26$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_27 <- read.csv("weihnachtsfeiertag_27.csv")
weihnachtsfeiertag_27$Datum <- as.Date(weihnachtsfeiertag_27$Datum, format = "%Y-%m-%d")
#Neujahr
neujahrstage <- read.csv("neujahrstage.csv")
neujahrstage$Datum <- as.Date(neujahrstage$Datum, format = "%Y-%m-%d")
#besonderes
besonderes<-read_delim("besondere_Tage.csv",
";", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
trim_ws = TRUE)
#25.
#spalte umbennen
weihnachtsfeiertag_25 %>%
rename(
feiertag = weihnachtsfeiertag_25
)
#X spalte loeschen
weihnachtsfeiertag_25$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_26 %>%
rename(
feiertag = weihnachtsfeiertag_26
)
#X spalte loeschen
weihnachtsfeiertag_26$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_27 %>%
rename(
feiertag = weihnachtsfeiertag_27
)
#X spalte loeschen
weihnachtsfeiertag_27$X<-NULL
#neujahrstage
#spalte umbennen
neujahrstage %>%
rename(
feiertag = neujahrstage
)
#X spalte loeschen
neujahrstage$X<-NULL
feiertage_vl<-filter(besonderes, Feiertage==1)
feiertage_vl2<-data.frame(feiertag_vl$Datum)
View(feiertage_vl)
feiertage_vl<-filter(besonderes, Feiertage==1)
feiertage_vl2<-data.frame(feiertage_vl$Datum)
feiertage_vl2$feiertag<-feiertage_vl$Feiertage
#Datumsspalte umbennen
feiertage_vl %>%
rename(
Datum = besonderes.Datum
)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
#Weihnachtsfeiertage
weihnachtsfeiertag_25 <- read.csv("weihnachtsfeiertag_25.csv")
weihnachtsfeiertag_25$Datum <- as.Date(weihnachtsfeiertag_25$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_26 <- read.csv("weihnachtsfeiertag_26.csv")
weihnachtsfeiertag_26$Datum <- as.Date(weihnachtsfeiertag_26$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_27 <- read.csv("weihnachtsfeiertag_27.csv")
weihnachtsfeiertag_27$Datum <- as.Date(weihnachtsfeiertag_27$Datum, format = "%Y-%m-%d")
#Neujahr
neujahrstage <- read.csv("neujahrstage.csv")
neujahrstage$Datum <- as.Date(neujahrstage$Datum, format = "%Y-%m-%d")
#besonderes
besonderes<-read_delim("besondere_Tage.csv",
";", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
trim_ws = TRUE)
#25.
#spalte umbennen
weihnachtsfeiertag_25 %>%
rename(
feiertag = weihnachtsfeiertag_25
)
#X spalte loeschen
weihnachtsfeiertag_25$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_26 %>%
rename(
feiertag = weihnachtsfeiertag_26
)
#X spalte loeschen
weihnachtsfeiertag_26$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_27 %>%
rename(
feiertag = weihnachtsfeiertag_27
)
#X spalte loeschen
weihnachtsfeiertag_27$X<-NULL
#neujahrstage
#spalte umbennen
neujahrstage %>%
rename(
feiertag = neujahrstage
)
#X spalte loeschen
neujahrstage$X<-NULL
feiertage_vl<-filter(besonderes, Feiertage==1)
feiertage_vl2<-data.frame(feiertage_vl$Datum)
feiertage_vl2$feiertag<-feiertage_vl$Feiertage
#Datumsspalte umbennen
feiertage_vl2 %>%
rename(
Datum = besonderes.Datum
)
View(feiertage_vl2)
feiertage_vl<-filter(besonderes, Feiertage==1)
feiertage_vl2<-data.frame(feiertage_vl$Datum)
feiertage_vl2$feiertag<-feiertage_vl$Feiertage
#Datumsspalte umbennen
feiertage_vl2 %>%
rename(
Datum = feiertage_vl.Datum
)
View(feiertage_vl2)
#Datumsspalte umbennen
names(feiertage_vl2)[names(feiertage_vl2) == "feiertage_vl.Datum"] <- "Datum"
View(feiertage_vl2)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
#Weihnachtsfeiertage
weihnachtsfeiertag_25 <- read.csv("weihnachtsfeiertag_25.csv")
weihnachtsfeiertag_25$Datum <- as.Date(weihnachtsfeiertag_25$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_26 <- read.csv("weihnachtsfeiertag_26.csv")
weihnachtsfeiertag_26$Datum <- as.Date(weihnachtsfeiertag_26$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_27 <- read.csv("weihnachtsfeiertag_27.csv")
weihnachtsfeiertag_27$Datum <- as.Date(weihnachtsfeiertag_27$Datum, format = "%Y-%m-%d")
#Neujahr
neujahrstage <- read.csv("neujahrstage.csv")
neujahrstage$Datum <- as.Date(neujahrstage$Datum, format = "%Y-%m-%d")
#besonderes
besonderes<-read_delim("besondere_Tage.csv",
";", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
trim_ws = TRUE)
#25.
#spalte umbennen
weihnachtsfeiertag_25 %>%
rename(
feiertag = weihnachtsfeiertag_25
)
#X spalte loeschen
weihnachtsfeiertag_25$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_26 %>%
rename(
feiertag = weihnachtsfeiertag_26
)
#X spalte loeschen
weihnachtsfeiertag_26$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_27 %>%
rename(
feiertag = weihnachtsfeiertag_27
)
#X spalte loeschen
weihnachtsfeiertag_27$X<-NULL
#neujahrstage
#spalte umbennen
neujahrstage %>%
rename(
feiertag = neujahrstage
)
#X spalte loeschen
neujahrstage$X<-NULL
#Feiertage aus besonderes herausfiltern
feiertage_vl<-filter(besonderes, Feiertage==1)
#neuen df für feiertage erzeugen
feiertage_vl2<-data.frame(feiertage_vl$Datum)
feiertage_vl2$feiertag<-feiertage_vl$Feiertage
#Datumsspalte umbennen
names(feiertage_vl2)[names(feiertage_vl2) == "feiertage_vl.Datum"] <- "Datum"
feiertage_master<- bind_rows(feiertage_vl2,weihnachtsfeiertag_25, weihnachtsfeiertag_26,weihnachtsfeiertag_27, neujahrstage)
View(feiertage_master)
#neue feiertage variable hinzufügen
feiertage_master$feiertage
View(feiertage_master)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
#Weihnachtsfeiertage
weihnachtsfeiertag_25 <- read.csv("weihnachtsfeiertag_25.csv")
weihnachtsfeiertag_25$Datum <- as.Date(weihnachtsfeiertag_25$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_26 <- read.csv("weihnachtsfeiertag_26.csv")
weihnachtsfeiertag_26$Datum <- as.Date(weihnachtsfeiertag_26$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_27 <- read.csv("weihnachtsfeiertag_27.csv")
weihnachtsfeiertag_27$Datum <- as.Date(weihnachtsfeiertag_27$Datum, format = "%Y-%m-%d")
#Neujahr
neujahrstage <- read.csv("neujahrstage.csv")
neujahrstage$Datum <- as.Date(neujahrstage$Datum, format = "%Y-%m-%d")
#besonderes
besonderes<-read_delim("besondere_Tage.csv",
";", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
trim_ws = TRUE)
#25.
#spalte umbennen
weihnachtsfeiertag_25 %>%
rename(
feiertag = weihnachtsfeiertag_25
)
#X spalte loeschen
weihnachtsfeiertag_25$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_26 %>%
rename(
feiertag = weihnachtsfeiertag_26
)
#X spalte loeschen
weihnachtsfeiertag_26$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_27 %>%
rename(
feiertag = weihnachtsfeiertag_27
)
#X spalte loeschen
weihnachtsfeiertag_27$X<-NULL
#neujahrstage
#spalte umbennen
neujahrstage %>%
rename(
feiertag = neujahrstage
)
#X spalte loeschen
neujahrstage$X<-NULL
#Feiertage aus besonderes herausfiltern
feiertage_vl<-filter(besonderes, Feiertage==1)
#neuen df für feiertage erzeugen
feiertage_vl2<-data.frame(feiertage_vl$Datum)
feiertage_vl2$feiertag<-feiertage_vl$Feiertage
#Datumsspalte umbennen
names(feiertage_vl2)[names(feiertage_vl2) == "feiertage_vl.Datum"] <- "Datum"
#df verbinden
feiertage_master<- bind_rows(feiertage_vl2,weihnachtsfeiertag_25, weihnachtsfeiertag_26,weihnachtsfeiertag_27, neujahrstage)
#neue feiertage variable hinzufügen
feiertage_master$feiertage=1
View(feiertage_master)
#df verbinden
feiertage_master<- bind_rows(feiertage_vl2,weihnachtsfeiertag_25, weihnachtsfeiertag_26,weihnachtsfeiertag_27, neujahrstage)
#neue feiertage variable hinzufügen
feiertage_master$feiertage=1
#ueberfluessige Spalten loeschen
feiertage_master$feiertag<-NULL
feiertage_master$weihnachtsfeiertag_25<-NULL
feiertage_master$weihnachtsfeiertag_26<-NULL
feiertage_master$weihnachtsfeiertag_27<-NULL
feiertage_master$neujahrstage<-NULL
#df verbinden
feiertage_master<- bind_rows(feiertage_vl2,weihnachtsfeiertag_25, weihnachtsfeiertag_26,weihnachtsfeiertag_27, neujahrstage)
#neue feiertage variable hinzufügen
feiertage_master$feiertage=1
#ueberfluessige Spalten loeschen
feiertage_master$feiertag<-NULL
feiertage_master$weihnachtsfeiertag_25<-NULL
feiertage_master$weihnachtsfeiertag_26<-NULL
feiertage_master$weihnachtsfeiertag_27<-NULL
feiertage_master$neujahrstage<-NULL
View(feiertage_master)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
#Weihnachtsfeiertage
weihnachtsfeiertag_25 <- read.csv("weihnachtsfeiertag_25.csv")
weihnachtsfeiertag_25$Datum <- as.Date(weihnachtsfeiertag_25$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_26 <- read.csv("weihnachtsfeiertag_26.csv")
weihnachtsfeiertag_26$Datum <- as.Date(weihnachtsfeiertag_26$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_27 <- read.csv("weihnachtsfeiertag_27.csv")
weihnachtsfeiertag_27$Datum <- as.Date(weihnachtsfeiertag_27$Datum, format = "%Y-%m-%d")
#Neujahr
neujahrstage <- read.csv("neujahrstage.csv")
neujahrstage$Datum <- as.Date(neujahrstage$Datum, format = "%Y-%m-%d")
#besonderes
besonderes<-read_delim("besondere_Tage.csv",
";", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
trim_ws = TRUE)
#25.
#spalte umbennen
weihnachtsfeiertag_25 %>%
rename(
feiertag = weihnachtsfeiertag_25
)
#X spalte loeschen
weihnachtsfeiertag_25$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_26 %>%
rename(
feiertag = weihnachtsfeiertag_26
)
#X spalte loeschen
weihnachtsfeiertag_26$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_27 %>%
rename(
feiertag = weihnachtsfeiertag_27
)
#X spalte loeschen
weihnachtsfeiertag_27$X<-NULL
#neujahrstage
#spalte umbennen
neujahrstage %>%
rename(
feiertag = neujahrstage
)
#X spalte loeschen
neujahrstage$X<-NULL
#Feiertage aus besonderes herausfiltern
feiertage_vl<-filter(besonderes, Feiertage==1)
#neuen df für feiertage erzeugen
feiertage_vl2<-data.frame(feiertage_vl$Datum)
feiertage_vl2$feiertag<-feiertage_vl$Feiertage
#Datumsspalte umbennen
names(feiertage_vl2)[names(feiertage_vl2) == "feiertage_vl.Datum"] <- "Datum"
#df verbinden
feiertage_master<- bind_rows(feiertage_vl2,weihnachtsfeiertag_25, weihnachtsfeiertag_26,weihnachtsfeiertag_27, neujahrstage)
#neue feiertage variable hinzufügen
feiertage_master$feiertage=1
#ueberfluessige Spalten loeschen
feiertage_master$feiertag<-NULL
feiertage_master$weihnachtsfeiertag_25<-NULL
feiertage_master$weihnachtsfeiertag_26<-NULL
feiertage_master$weihnachtsfeiertag_27<-NULL
feiertage_master$neujahrstage<-NULL
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
#Weihnachtsfeiertage
weihnachtsfeiertag_25 <- read.csv("weihnachtsfeiertag_25.csv")
weihnachtsfeiertag_25$Datum <- as.Date(weihnachtsfeiertag_25$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_26 <- read.csv("weihnachtsfeiertag_26.csv")
weihnachtsfeiertag_26$Datum <- as.Date(weihnachtsfeiertag_26$Datum, format = "%Y-%m-%d")
weihnachtsfeiertag_27 <- read.csv("weihnachtsfeiertag_27.csv")
weihnachtsfeiertag_27$Datum <- as.Date(weihnachtsfeiertag_27$Datum, format = "%Y-%m-%d")
#Neujahr
neujahrstage <- read.csv("neujahrstage.csv")
neujahrstage$Datum <- as.Date(neujahrstage$Datum, format = "%Y-%m-%d")
#besonderes
besonderes<-read_delim("besondere_Tage.csv",
";", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
trim_ws = TRUE)
#25.
#spalte umbennen
weihnachtsfeiertag_25 %>%
rename(
feiertag = weihnachtsfeiertag_25
)
#X spalte loeschen
weihnachtsfeiertag_25$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_26 %>%
rename(
feiertag = weihnachtsfeiertag_26
)
#X spalte loeschen
weihnachtsfeiertag_26$X<-NULL
#26.
#spalte umbennen
weihnachtsfeiertag_27 %>%
rename(
feiertag = weihnachtsfeiertag_27
)
#X spalte loeschen
weihnachtsfeiertag_27$X<-NULL
#neujahrstage
#spalte umbennen
neujahrstage %>%
rename(
feiertag = neujahrstage
)
#X spalte loeschen
neujahrstage$X<-NULL
#Feiertage aus besonderes herausfiltern
feiertage_vl<-filter(besonderes, Feiertage==1)
#neuen df für feiertage erzeugen
feiertage_vl2<-data.frame(feiertage_vl$Datum)
feiertage_vl2$feiertag<-feiertage_vl$Feiertage
#Datumsspalte umbennen
names(feiertage_vl2)[names(feiertage_vl2) == "feiertage_vl.Datum"] <- "Datum"
#df verbinden
feiertage_master<- bind_rows(feiertage_vl2,weihnachtsfeiertag_25, weihnachtsfeiertag_26,weihnachtsfeiertag_27, neujahrstage)
#neue feiertage variable hinzufügen
feiertage_master$feiertage=1
#ueberfluessige Spalten loeschen
feiertage_master$feiertag<-NULL
feiertage_master$weihnachtsfeiertag_25<-NULL
feiertage_master$weihnachtsfeiertag_26<-NULL
feiertage_master$weihnachtsfeiertag_27<-NULL
feiertage_master$neujahrstage<-NULL
write.csv(feiertage_master, file = "feiertage_master.csv")
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
#umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
#                                 col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
#nach Feiertag
nach_feiertag <- read.csv("nach_feiertag.csv")
nach_feiertag$Datum <- as.Date(nach_feiertag$Datum, format = "%Y-%m-%d")
#vor Feiertag
vor_feiertag <- read.csv("vor_feiertag.csv")
vor_feiertag$Datum <- as.Date(vor_feiertag$Datum, format = "%Y-%m-%d")
View(nach_feiertag)
#Feiertage master df (enthält alle Feiertage inklusive Weihnachten, Neujahr. Diese hatten bisher gefehlt)
feiertage_master <- read.csv("feiertage_master.csv")
feiertage_master$Datum <- as.Date(feiertage_master$Datum, format = "%Y-%m-%d")
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
#umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
#                                 col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
#nach Feiertag
nach_feiertag <- read.csv("nach_feiertag.csv")
nach_feiertag$Datum <- as.Date(nach_feiertag$Datum, format = "%Y-%m-%d")
#vor Feiertag
vor_feiertag <- read.csv("vor_feiertag.csv")
vor_feiertag$Datum <- as.Date(vor_feiertag$Datum, format = "%Y-%m-%d")
View(feiertage_master)
