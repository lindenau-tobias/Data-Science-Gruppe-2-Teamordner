master_df1<-merge(master_df,wetter,by="Datum")
master_df1<-merge(master_df,wetter,by="Datum")
View(master_df1)
# Kiwo
kiwo <- read.csv("kiwo.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(dplyr)
library(magrittr)
# Kiwo
kiwo <- read.csv("kiwo.csv")
mutate(kiwo, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Kiwo
kiwo <- read.csv("kiwo.csv")
View(kiwo)
view(kiwo)
mutate(kiwo, Datum= as.Date(Datum, format= "%Y-%m-%d"))
View(kiwo)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
mutate(kiwo, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d"))
```{r}
master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum")
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
mutate(kiwo, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d"))
master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum")
View(master_df)
View(kiwo)
View(besonderes_weihnachtsfeiertage_neujahr)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
mutate(kiwo, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d"))
master_df<- merge(besonderes_weihnachtsfeiertage_neujahr,kiwo, by.x = besonderes_weihnachtsfeiertage_neujahr$Datum, by.y = kiwo$Datum, all=TRUE)
master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum", all = TRUE)
View(master_df)
master_df<- merge(besonderes_weihnachtsfeiertage_neujahr,kiwo, by.x = besonderes_weihnachtsfeiertage_neujahr$Datum, by.y = kiwo$Datum, all=TRUE)
master_sf_test<-left_join(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
View(kiwo)
View(besonderes_weihnachtsfeiertage_neujahr)
mutate(kiwo, Datum= as.Date(Datum, format= "%Y-%m-%d"))
mutate(kiwo$Datum= as.Date(Datum, format= "%Y-%m-%d"))
mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d"))
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum")
View(master_df)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum", all = TRUE)
View(master_df)
View(besonderes_weihnachtsfeiertage_neujahr)
View(kiwo)
master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum", incomparables = NA)
View(master_df)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum", incomparables = NA)
View(master_df)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
master_sf_test<-left_join(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
View(master_sf_test)
View(besonderes_weihnachtsfeiertage_neujahr)
View(kiwo)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
View(kiwo)
View(besonderes_weihnachtsfeiertage_neujahr)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
master_sf_test<-left_join(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
View(master_sf_test)
#Feiertage+kiwo+temp_klass
master_df_2<-left_join(master_df_1, temp_klass, by = "Datum")
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
#Feiertage+kiwo
master_df_1<-left_join(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
#Feiertage+kiwo+temp_klass
master_df_2<-left_join(master_df_1, temp_klass, by = "Datum")
#Feiertage+kiwo+temp_klass+wetter
master_df_3<-left_join(master_df_2, wetter, by = "Datum")
View(master_df_2)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
#Feiertage+kiwo
master_df_vorlaeufig<-left_join(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
#master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum", incomparables = NA)
#master_df<- merge(besonderes_weihnachtsfeiertage_neujahr,kiwo, by.x = besonderes_weihnachtsfeiertage_neujahr$Datum, by.y = kiwo$Datum, all=TRUE)
#master_df1<-merge(master_df,wetter,by="Datum")
#Feiertage+kiwo+temp_klass (inklusive wetter)
master_df<-left_join(master_df_vorlaeufig, temp_klass, by = "Datum")
View(master_df)
write.csv(master_df, file = "master_df")
View(master_df)
mod <- lm(master_df ~ as.factor(wochentag) + as.factor(Warengruppe) + as.factor(Wettercode) + Temperatur + monat + monatstag, as.factor(kiwo), as.factor(Feiertage))
mod <- lm(master_df ~ as.factor(Wochentag) + as.factor(Warengruppe) + as.factor(Wettercode) + Temperatur + monat + monatstag, as.factor(kiwo), as.factor(Feiertage))
```{r}
mod <- lm(master_df ~ as.factor(Wochentag) + as.factor(Warengruppe) + as.factor(Wettercode) + Temperatur + monat + monatstag, as.factor(kiwo), as.factor(Feiertage))
mod <- lm(master_df ~ as.factor(Warengruppe) + as.factor(Wettercode) + Temperatur + monat + monatstag, as.factor(kiwo), as.factor(Feiertage))
mod <- lm(master_df ~ Temperatur + monat + monatstag, as.factor(kiwo), as.factor(Feiertage))
mod <- lm(master_df ~ Temperatur, Wochentag)
View(besonderes_weihnachtsfeiertage_neujahr)
View(master_df)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
master_df_vorlaeufig<-merge(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
View(master_df_vorlaeufig)
master_df_vorlaeufig<-merge(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum", all = TRUE)
View(master_df_vorlaeufig)
View(besonderes_weihnachtsfeiertage_neujahr)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
merge(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "row.names", all = TRUE)
df<-merge(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "row.names", all = TRUE)
View(df)
#Bibliotheken
library(readr)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(magrittr)
#Feiertage, Ferien, Weihnachtsmarkt, Wochentage, Gesamtumsatz, Umsatz nach Warengruppen 1-6
besonderes_weihnachtsfeiertage_neujahr<-read_csv("besonderes_weihnachtsfeiertage_neujahr.csv")
#                       ",", escape_double = FALSE, col_types = cols(Datum = col_date(format = "%d.%m.%Y")),
#                       trim_ws = TRUE)
# gelöscht, da sonst das Datum nicht mehr angezeigt wird
mutate(besonderes_weihnachtsfeiertage_neujahr, Datum= as.Date(Datum, format= "%Y-%m-%d"))
# Umsatzdaten,
umsatz <- read_csv("umsatzdaten_gekuerzt.csv",
col_types = cols(Datum = col_date(format = "%Y-%m-%d"))) #Eingeben des Datums
# Kiwo
kiwo <- read.csv("kiwo.csv")
kiwo$Datum <- as.Date(kiwo$Datum, format = "%Y-%m-%d")
#mutate(kiwo$Datum = as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
# Wetter
wetter <- read_csv("wetter.csv",
col_types = cols(Datum = col_datetime(format = " %Y-%m-%d   "))) #Eingeben des Datums
#Temperaturklassen
temp_klass<-read.csv("merge_um_wet_temp_klass.csv")
temp_klass$Datum <- as.Date(temp_klass$Datum, format = "%Y-%m-%d")
#mutate(temp_klass, Datum= as.Date(Datum, format= "%Y-%m-%d")) # hat nicht funktioniert
#Feiertage+kiwo
master_df_vorlaeufig<-merge(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "row.names", all = TRUE)
#master_df_vorlaeufig<-left_join(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
# funktioniert, merged die Zeilen allerdings nicht an einem Tag sondern fügt den selben Tag noch einmal zusätzlich hinzu
#master_df_vorlaeufig<-merge(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum")
#reduziert den datensatz auf die tage der kiwo
#master_df_vorlaeufig<-merge(besonderes_weihnachtsfeiertage_neujahr, kiwo, by = "Datum", all = TRUE)
#funktioniert auch nicht
#weitere versuche
#master_df<-merge(besonderes_weihnachtsfeiertage_neujahr,kiwo,by="Datum", incomparables = NA)
#master_df<- merge(besonderes_weihnachtsfeiertage_neujahr,kiwo, by.x = besonderes_weihnachtsfeiertage_neujahr$Datum, by.y = kiwo$Datum, all=TRUE)
#master_df1<-merge(master_df,wetter,by="Datum")
#Feiertage+kiwo+temp_klass (inklusive wetter)
#master_df<-left_join(master_df_vorlaeufig, temp_klass, by = "Datum")
#fügt ungewollte multible Tage hinzu
master_df<-merge(master_df_vorlaeufig, temp_klass, by = "row.names", all = TRUE)
write.csv(master_df, file = "master_df")
View(besonderes_weihnachtsfeiertage_neujahr)
